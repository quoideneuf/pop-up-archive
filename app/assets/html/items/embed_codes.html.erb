<section class="embed-codes">

  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">x</button>
    <h3>Embed Codes</h3>
    <div><a target="_blank" href="https://github.com/popuparchive/pop-up-archive/wiki/Transcript-Player#embed-the-tplayer">Read more about embedding.</a></div>
  </div>

  <div class="modal-body">

    <table class="table table-striped">
      <tr>
        <th>Simple player</th>
        <td>
          <input class="copy-widget" readonly="readonly" type="text" value="" />
          <xmp><iframe frameborder="0" width="100%" height="95px" scrolling="no" seamless="yes" name="{{ item.formattedTitle }}" src="{{ my_path }}/embed_player/{{ item.titleURISafe() }}/{{ audioFile.id }}/{{ item.id }}/{{ collection.id }}"></iframe></xmp>
        </td>
      </tr>
      <tr>
        <th>Player with transcript (iframe)</th>
        <td>
          <input class="copy-widget" readonly="readonly" type="text" value="" /> 
          <xmp><iframe frameborder="0" height="320px" width="100%" scrolling="no" seamless="yes" name="{{ item.formattedTitle }}" src="{{ my_path }}/tplayer/{{ audioFile.id }}/{{ item.titleURISafe() }}"></iframe></xmp>
        </td>
      </tr>
      <tr>
        <th>Player with transcript (client-side JS)</th>
        <td>
          <input class="copy-widget" readonly="readonly" type="text" value="" />
          <xmp><script type="text/javascript" async="1" data-pua="{{ audioFile.id }}" data-main="{{ my_path }}/assets/tplayer-embed" src="{{ my_path }}/assets/require.js"></script></xmp>
        </td>
      </tr>
      <tr>
        <th>Player with transcript (oEmbed)</th>
        <td>
          <input class="copy-widget" readonly="readonly" type="text" value="" />
          <xmp><a href="{{ my_path }}/oembed?url={{ my_path }}/tplayer/{{ audioFile.id }}">listen to {{ item.formattedTitle }}</a></xmp>
        </td>
      </tr>
    </table>

  </div>

  <div class="modal-footer">
    <button class="btn" type="button" ng-click="dismiss()">Close</button>
  </div>

</section>
<script type="text/javascript">
  $(document).ready(function() {
    var inputs = $('.copy-widget');
    inputs.each(function(idx, inp) {
      var fld = $(inp);
      var code = fld.next();
      //console.log(inp, code[0]);
      fld.val('');
      // defer setting value till template is rendered.
      fld.attr('placeholder', 'Click for code');
      fld.on('click', function() {
        fld.val(code.html());    
        fld.select();
      });
      code.hide();
    });
  });
</script>
